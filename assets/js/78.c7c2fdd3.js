(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{465:function(e,a,t){"use strict";t.r(a);var s=t(6),r=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"arcengine-开发中一些提高效率技巧"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#arcengine-开发中一些提高效率技巧"}},[e._v("#")]),e._v(" ArcEngine 开发中一些提高效率技巧")]),e._v(" "),t("blockquote",[t("p",[e._v("作者:胡飞玲 时间： 2020-10-16")])]),e._v(" "),t("h2",{attrs:{id:"一-查询篇"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一-查询篇"}},[e._v("#")]),e._v(" 一 . 查询篇")]),e._v(" "),t("h3",{attrs:{id:"_1-ae-的三种查询方式概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ae-的三种查询方式概述"}},[e._v("#")]),e._v(" 1. AE 的三种查询方式概述")]),e._v(" "),t("p",[e._v("在使用 ArcEngine 查询空间数据库的时候主要使用三种查询接口：")]),e._v(" "),t("ul",[t("li",[e._v("IQueryFilter")]),e._v(" "),t("li",[e._v("ISpatialFilter")]),e._v(" "),t("li",[e._v("IQueryDef")])]),e._v(" "),t("p",[e._v("三种接口使用场景总结如下表：")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("要求")]),e._v(" "),t("th",[e._v("IQueryFilter")]),e._v(" "),t("th",[e._v("ISpatialFilter")]),e._v(" "),t("th",[e._v("IQueryDef")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("属性约束")]),e._v(" "),t("td",[e._v("True")]),e._v(" "),t("td",[e._v("True")]),e._v(" "),t("td",[e._v("True")])]),e._v(" "),t("tr",[t("td",[e._v("空间约束")]),e._v(" "),t("td",[e._v("False")]),e._v(" "),t("td",[e._v("True")]),e._v(" "),t("td",[e._v("False")])]),e._v(" "),t("tr",[t("td",[e._v("查询结果包括多个表的字段")]),e._v(" "),t("td",[e._v("False")]),e._v(" "),t("td",[e._v("False")]),e._v(" "),t("td",[e._v("True")])]),e._v(" "),t("tr",[t("td",[e._v("查询结果返回一个游标")]),e._v(" "),t("td",[e._v("True")]),e._v(" "),t("td",[e._v("True")]),e._v(" "),t("td",[e._v("True")])]),e._v(" "),t("tr",[t("td",[e._v("对象可以从结果中创建")]),e._v(" "),t("td",[e._v("True")]),e._v(" "),t("td",[e._v("True")]),e._v(" "),t("td",[e._v("True")])]),e._v(" "),t("tr",[t("td",[e._v("返回的记录可以被编辑")]),e._v(" "),t("td",[e._v("True")]),e._v(" "),t("td",[e._v("True")]),e._v(" "),t("td",[e._v("False")])]),e._v(" "),t("tr",[t("td",[e._v("Records include edits made in active edit session")]),e._v(" "),t("td",[e._v("True")]),e._v(" "),t("td",[e._v("True")]),e._v(" "),t("td",[e._v("False")])])])]),e._v(" "),t("p",[e._v("从上表可看出：")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("IQueryFilter 实现属性条件查询")])]),e._v(" "),t("li",[t("p",[e._v("ISpatialFilter 实现 属性+空间条件查询")])]),e._v(" "),t("li",[t("p",[e._v("IQueryDef 可实现属性查询，和多表查询，不能实现空间查询")])])]),e._v(" "),t("h3",{attrs:{id:"_2-iqueryfilter-接口参数设置技巧"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-iqueryfilter-接口参数设置技巧"}},[e._v("#")]),e._v(" 2. IQueryFilter 接口参数设置技巧")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("SubFields")]),e._v(" "),t("p",[e._v("只设置需要查询的字段，这样比不设置和设置*查询速度会快很多。如果不设置这个属性，则会返回全部字段")]),e._v(" "),t("p",[e._v("注意：如果需要读取图形 geometry，SubFields 需要加 shape 字段 ，否则报错；编辑数据时，一般不设置")])]),e._v(" "),t("li",[t("p",[e._v("WhereClause")]),e._v(" "),t("p",[e._v("优先使用大于、小于，其次才是不等于")]),e._v(" "),t("p",[e._v("索引的使用注意事项：")]),e._v(" "),t("p",[e._v("索引失效：值如 Area/30< 1000 换成 Area<1000/30")]),e._v(" "),t("p",[e._v("索引失效：使用不等于运算符（<>、!=尽量不要计算字段，而去计算查询）")])])]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Recycling 参数 【 IFeatureClass.Search(filter, Recycling ) 】")]),e._v(" "),t("p",[e._v("True :循环使用对象，查询速度快，只存储一份对象 ，一般读操作时设置")]),e._v(" "),t("p",[e._v("False ：不循环使用对象，查询速度慢，存储多份对象，一般写操作时设置")]),e._v(" "),t("p",[e._v("注意：如果设置为 True，跳出循环以后，游标获取 Feature 不可以使用，")])]),e._v(" "),t("li",[t("p",[e._v("实例：")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('IQueryFilter pQueryFilter = new QueryFilterClass();\nstring SubFields = "OID,Shape";\npQueryFilter.SubFields = SubFields;\nipFeatCursor = ipBufferFeaCls.Search(pQueryFilter, true);\nipFeature = ipFeatCursor.NextFeature();\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br")])])])]),e._v(" "),t("h3",{attrs:{id:"_3-ispatialfilter-接口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-ispatialfilter-接口"}},[e._v("#")]),e._v(" 3. ISpatialFilter 接口")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Geometry\n如果使用几何包对象作为过滤的几何图形，在为 ISpatialFilter 对象设置 Geometry 属性之前，先对几何包对象创建空间索引，这样能大大提高查询的效率，下面是创建空间索引的示例代码")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("    // 将几何包对象转换到ISpatialIndex对象上去\n    ISpatialIndex spatialIndex = (ISpatialIndex)geometryBag;\n    spatialIndex.AllowIndexing = true;\n    spatialIndex.Invalidate();\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br")])])]),e._v(" "),t("li",[t("p",[e._v("SubFields （同上）")])]),e._v(" "),t("li",[t("p",[e._v("WhereClause （同上）")])]),e._v(" "),t("li",[t("p",[e._v("Recycling 参数 （同上）")])])]),e._v(" "),t("h3",{attrs:{id:"_4-iquerydef2-接口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-iquerydef2-接口"}},[e._v("#")]),e._v(" 4. IQueryDef2 接口")]),e._v(" "),t("p",[e._v("IQueryDef2 对象可由 IFeatureWorkspace.CreateQueryDef 方法创建，一般这个速度最快，类似构建 sql 语句查表。该接口可同时可实现 distinct，group by，order by 等功能")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("注意事项：")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("只能在 ArcSDE、PGDB、FGDB 数据源上使用（注意：shp 数据不支持），数据集的历史表示 不被 QueryDef 游标支持(翻译可能不太准确，详见官方文档）。")])]),e._v(" "),t("li",[t("p",[e._v("支持多表查询，但是查询的结果不能进行修改！")])]),e._v(" "),t("li",[t("p",[e._v("使用 IQueryDef 查询出来的游标，用此游标获取的字段的别名和字段名一致（如果是要获取字段的中文别名，请使用其他方法获取游标）")])])])]),e._v(" "),t("li",[t("p",[e._v("参数说明")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("Tables")]),e._v(" "),t("p",[e._v("查询的表名称，支持多表查询，用逗号隔开即可，如”TableUser,TableRole”**\n注意事项：如果使用的是 SDE 数据源，当当前的工作空间不是表所在的用户空间下，需要在表的前边加用户名前缀（如：Owner.MyTable)")])]),e._v(" "),t("li",[t("p",[e._v("SubFields")]),e._v(" "),t("p",[e._v("查询的字段列表，默认不填为查询所有字段，即”*”，支持 Distinct 关键字,\n格式：")]),e._v(" "),t("p",[e._v("1） “*” 返回所有字段")]),e._v(" "),t("p",[e._v("2）”field1,field2,field3” 用逗号隔开要查询的字段")]),e._v(" "),t("p",[e._v("3）”table1.*,table2.field1,table3.field2” 查询 table1 的所有字段，table2 的字段 1，和 table3 的字段 2")])]),e._v(" "),t("li",[t("p",[e._v("WhereClause")]),e._v(" "),t("p",[e._v("这块注意不同数据源，查询的 SQL 写法不同")])]),e._v(" "),t("li",[t("p",[e._v("PrefixClause")]),e._v(" "),t("p",[e._v("前缀查询条件，在 Select 和 Select Column List 之间，如 Distinct 关键字和 ALL 关键字")])]),e._v(" "),t("li",[t("p",[e._v("PrefixClause")]),e._v(" "),t("p",[e._v("后缀查询条件，在 Select 语句后，紧跟 Where 语句之后，如 Order By")])]),e._v(" "),t("li",[t("p",[e._v("Evaluate")]),e._v(" "),t("p",[e._v("返回 ICursor 对象，这块使用的过程中记得用 ComReleaser 管理，在使用完毕释放 Com 对象")])])])]),e._v(" "),t("li",[t("p",[e._v("实例：")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('    IQueryDef2 queryDef2 = (IQueryDef2)featureWorkspace.CreateQueryDef();\n    queryDef2.Tables = "Cities";\n    queryDef2.SubFields = "Name";\n    queryDef2.PostfixClause = "ORDER BY Name DESC";\n    (ComReleaser comReleaser = new ComReleaser())\n    {\n        ICursor cursor = queryDef2.Evaluate2(true);\n        comReleaser.ManageLifetime(cursor);\n        int nameIndex = cursor.FindField("Name");\n        IRow row = null;\n        while ((row = cursor.NextRow()) != null)\n        {\n            String cityName = Convert.ToString(row.get_Value(nameIndex));\n        }\n    }\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br")])])])]),e._v(" "),t("h2",{attrs:{id:"二-统计篇"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二-统计篇"}},[e._v("#")]),e._v(" 二 . 统计篇")]),e._v(" "),t("h3",{attrs:{id:"_1-统计两种方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-统计两种方式"}},[e._v("#")]),e._v(" 1. 统计两种方式")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("IQueryDef2 接口")])]),e._v(" "),t("li",[t("p",[e._v("IDataStatistics 接口")])])]),e._v(" "),t("p",[e._v("总结：")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("IQueryDef 接口 无法进行空间查询统计，但是速度快")])]),e._v(" "),t("li",[t("p",[e._v("IDataStatistics 可进行空间查询统计，但是数据量大的时候比较慢")])])]),e._v(" "),t("h3",{attrs:{id:"_2-idatastatistics-接口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-idatastatistics-接口"}},[e._v("#")]),e._v(" 2. IDataStatistics 接口")]),e._v(" "),t("p",[e._v("IDataStatistics 的属性 Statistics 返回一个 IStatisticsResult，可统计字段最大值 最小值 平均值 求和等：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v('获取唯一值：\nIQueryFilter pQueryF = new QueryFilterClass();\npQueryF.SubFields = "CC";\nIFeatureCursor pFeatureCursor = pCoverFC.Search(null, true);\nIDataStatistics pDStatistics = new DataStatistics();\npDStatistics.Field = "CC";\npDStatistics.Cursor = (ICursor)pFeatureCursor;\nIEnumerator pEnumerator = pDStatistics.UniqueValues;\n\n\n统计其他：\nICursor pCursor = pFeaturelayer.Search(pQueryFilter, false) as ICursor;\nIDataStatistics pData = new DataStatisticsClass();\npData.Cursor = pCursor;\npData.Field = pField.Name;\nESRI.ArcGIS.esriSystem.IStatisticsResults statisticsResults = pData.Statistics;\nstatisticsResults.Minimum;//最小值\nstatisticsResults.Maximum;//最大值\nstatisticsResults.Count;//数量\n')])])]),t("h3",{attrs:{id:"_3-iquerydef2-接口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-iquerydef2-接口"}},[e._v("#")]),e._v(" 3. IQueryDef2 接口")]),e._v(" "),t("ul",[t("li",[e._v("通过 IQueryDef 中 group by 达到统计的效果，但是无法空间查询。同时可用 distinct 来实现统计唯一值")])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('IDataset pDataset = pFeatureClass as IDataset;\nIQueryDef2 pDef = (pDataset.Workspace as IFeatureWorkspace).CreateQueryDef() as IQueryDef2;\npDef.Tables = pDataset.Name;\npDef.WhereClause = whereCause;\npDef.SubFields = "count(*),QDM";\npDef.PostfixClause = " group by QDM";\nICursor cursor = pDef.Evaluate2(true);\nIRow row = null;\nwhile ((row = cursor.NextRow()) != null)\n{\n    int index = cursor.FindField("QDM");\n    string  QDM = row.get_Value(index);\n    string Count = row.get_Value(0).;\n}\n\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br")])]),t("h2",{attrs:{id:"三-编辑篇"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三-编辑篇"}},[e._v("#")]),e._v(" 三 . 编辑篇")]),e._v(" "),t("h3",{attrs:{id:"_1-新增插入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-新增插入"}},[e._v("#")]),e._v(" 1. 新增插入")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("插入要素的两种方式")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("\t单个创建：IFeatureClass.CreateFeature() + IFeature.Store()\n\n\t批量创建：IFeatureCursor.InsertFeature(IFeatureBuffer)\n")])])])]),e._v(" "),t("li",[t("p",[e._v("空间索引")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("\t大数据量进行数据插入的过程中，无需进行空间索引的创建，可以等批量插入完成之后，统一创建空间索引\n\n\tIFeatureClassLoad.LoadOnlyMode =true 高效插入\n")])])])]),e._v(" "),t("li",[t("p",[e._v("注意事项")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("\t 插入游标是用来实现要素批量插入功能的，单个要素的编辑尽量不使用插入游标\n\n\t 调用插入游标的Flush方法时要捕捉异常\n\n\t 不要在循环中重复FindField查找字段,给字段赋值，在循环前获取字段索引（适用于所有查询，插入，更新操作）\n")])])])])]),e._v(" "),t("h3",{attrs:{id:"_2-更新"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-更新"}},[e._v("#")]),e._v(" 2. 更新")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("更新要素的两种方式")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("\t单个更新：IFeature.Store()\n\n\t批量更新：IFeatureCursor.UpdateFeature(IFeature)\n\n\t将一批数据更新为某一相同的属性IRowBuffer \n")])])])]),e._v(" "),t("li",[t("p",[e._v("注意事项")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("\t–使用Update Cursor更新注意其位置有效性，只对游标当前位置的\n")])])]),t("p",[e._v("IFeature 有效")])])]),e._v(" "),t("h3",{attrs:{id:"_3-删除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-删除"}},[e._v("#")]),e._v(" 3. 删除")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("删除要素的两种方式")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("\tIFeatureCursor 查询或IFeatureClass.GetFeature(OID) ，IFeature.Delete()（最慢，适合单个删除）\n")])])]),t("p",[e._v(" 更新游标删除 IFeatureCursor.DeleteFeature()（速度第三）\nITable.DeleteSearchedRows（IQueryFilter）删除 （速度第二）\n IDataset.Workspace.ExecuteSQL（速度第一）\n 删除要素中所有要素删除（ITableWrite. Truncate)")])]),e._v(" "),t("li",[t("p",[e._v("注意事项")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("\t DeleteSearchedRows和ExecuteSQL属于批量删除，性能较优，但是整个过程不好\t加进度条，界面不够友好\n")])])]),t("p",[e._v(" IFeatureCursor.DeleteFeature()虽次于前两者，可加界面进度条，用户体验会比较好\n 只针对非版本数据，且只有当前用户在用")])])]),e._v(" "),t("h2",{attrs:{id:"二-内存释放篇"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二-内存释放篇"}},[e._v("#")]),e._v(" 二 . 内存释放篇")]),e._v(" "),t("h3",{attrs:{id:"_1-需要释放的对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-需要释放的对象"}},[e._v("#")]),e._v(" 1. 需要释放的对象")]),e._v(" "),t("ul",[t("li",[e._v("I Ｃ ursor 对象务必及时释放。在每次获取查询统计时获取游标后必须释放")]),e._v(" "),t("li",[e._v("IEnumXX 接口。")]),e._v(" "),t("li",[e._v("GetXX 方法获取的对象，比如 IFeatureClass 的 GetFeature 方法")]),e._v(" "),t("li",[e._v("IPointCollection 的 GetPoint 方法")]),e._v(" "),t("li",[e._v("IWorkspace")]),e._v(" "),t("li",[e._v("打开单个文件数据库后的方法")]),e._v(" "),t("li",[e._v("Mxd 文档打开后的关闭")])]),e._v(" "),t("h3",{attrs:{id:"_2-尽可能使用-esri-提供的-mangelifetime-来管理-arcgis-engine-对象的生命周期"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-尽可能使用-esri-提供的-mangelifetime-来管理-arcgis-engine-对象的生命周期"}},[e._v("#")]),e._v(" 2. 尽可能使用 Esri 提供的 MangeLifetime 来管理 ArcGIS Engine 对象的生命周期")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v('using(ComReleaser comReleaser = new ComReleaser())\n{\n    //读取查询结果\n    IFeatureCursor featureCursor = featureClass.Search(spatialFilter, true);\n    comReleaser.ManageLifetime(featureCursor);\n    IFeature feature = null;\n    while ((feature = featureCursor.NextFeature()) != null)\n    {\n        String roadName = Convert.ToString(feature.get_Value(nameIndex));\n        String roadType = Convert.ToString(feature.get_Value(typeIndex));\n        Console.WriteLine("Name: {0}, Type: {1}", roadName, roadType);\n        //这块强烈建议feature释放掉，如果做大数据操作的时候这块不释放 内存会撑爆的。\n        System.Runtime.InteropServices.Marshal.ReleaseComObject(feature);\n    }\n}\n')])])]),t("h2",{attrs:{id:"二-多线程篇"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二-多线程篇"}},[e._v("#")]),e._v(" 二 . 多线程篇")]),e._v(" "),t("h3",{attrs:{id:"_1-多线程使用注意事项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-多线程使用注意事项"}},[e._v("#")]),e._v(" 1.多线程使用注意事项")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("ArcGIS Engine支持多线程，但是不支持多个线程之间的彼此调用\n\n• AO对象不能在线程中间共享，比如必须在各自的线程中重新打开Workspace、             \tFeatureClass。\n•主线程向工作线程传递AO对象，可以将对象序列化成字符串，再将字符串传递\t给目标线程，然后再反序列化还原到对象（待验证）\n•多线程处理中涉及GP工具，保证操作数据未被使用或占用，一般不能成功\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);