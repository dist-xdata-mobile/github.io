(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{507:function(t,e,o){"use strict";o.r(e);var a=o(6),s=Object(a.a)({},(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("h1",{attrs:{id:"如何开发winform系统"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#如何开发winform系统"}},[t._v("#")]),t._v(" 如何开发winform系统")]),t._v(" "),o("blockquote",[o("p",[t._v("作者: 李小龙 时间： 2021-01-05")])]),t._v(" "),o("h1",{attrs:{id:"一、devexpress"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#一、devexpress"}},[t._v("#")]),t._v(" 一、DevExpress")]),t._v(" "),o("p",[t._v("​\tDev（DevExpress）是一个比较有名的界面控件套件，提供了一系列的界面控件套件的DotNet界面控件。基于微软的Winform集成定制而来的，但是功能更加强大，使用起来也比较简单，使用DevExpress控件，可以获得更高效的界面设计以及更美观的效果。")]),t._v(" "),o("p",[t._v("​\tDev官方连接文档：https://documentation.devexpress.com/WindowsForms/7874/WinForms-Controls")]),t._v(" "),o("p",[t._v("​\tDev winform中文文档：https://www.dxper.net/documents/")]),t._v(" "),o("p",[t._v("​\tDev开发者论坛：https://www.dxper.net/forum-45-1.html")]),t._v(" "),o("p",[t._v("主要使用控件：")]),t._v(" "),o("p",[t._v("​\tXtraGrid：一个类似GridView的控件，不过功能比GridView强很多。目前系统对它进行了一个二次封装，使之实现自定义分页、导出等功能。")]),t._v(" "),o("p",[t._v("​\tXtraEditors：里面有很多编辑的控件如TextEdit、LookUpEdit、ButtonEdit等，用微软自带的也可以，不过为了统一风格，还是使用dev的控件。")]),t._v(" "),o("p",[t._v("​\tXtraBars：使用该控件制作的主窗体支持换肤功能，Ribbon窗体类似Office2010的界面设计，使得用户使用更容易上手。")]),t._v(" "),o("p",[t._v("​\t其他：还有LayOut、TreeList、Wizard等一系列控件，使用非常方便。")]),t._v(" "),o("h1",{attrs:{id:"二、arcgis相关控件"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#二、arcgis相关控件"}},[t._v("#")]),t._v(" 二、arcgis相关控件")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/af721dc29a8ee402e97598a516df4d97/wps38.jpg",alt:"img"}}),t._v(" "),o("p",[t._v("​\t在ae中，ToolbarControl 、TOCControl 和MapControl 称为框架控件。所谓框架控件，就是该控件起到构建GIS 应用程序框架的作用。其中ToolbarControl 和TOCControl这两个控件需要指定一个实现了IActiveView接口类的“伙伴控件”协同工作，例如MapControl控件。")]),t._v(" "),o("p",[t._v("实施步骤：")]),t._v(" "),o("p",[t._v("1、新建 Windows 窗体应用程序。")]),t._v(" "),o("p",[t._v("2、将ToolbarControl、TOCControl、MapControl、LicenseControl控件拖入窗体。")]),t._v(" "),o("p",[t._v("3、将ToolbarControl、TOCControl的伙伴控件设置成刚放入的MapControl。")]),t._v(" "),o("p",[t._v("4、在ToolbarControl中放入工具。")]),t._v(" "),o("p",[t._v("5、在程序窗口初始化之前，加入：ESRI.ArcGIS.RuntimeManager.Bind(ESRI.ArcGIS.ProductCode.EngineOrDesktop);")]),t._v(" "),o("p",[t._v("ToolbarControl：存放工具的控件，工具比如：放大地图、缩小地图等。")]),t._v(" "),o("p",[t._v("TOCControl：对图层数据进行相关管理、操作的控件。")]),t._v(" "),o("p",[t._v("MapControl：通俗的说就是展示数据的窗口。")]),t._v(" "),o("p",[t._v("LicenseControl：授权控件，每个ae程序都必须放入一个。")]),t._v(" "),o("h1",{attrs:{id:"三、创建winform项目"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#三、创建winform项目"}},[t._v("#")]),t._v(" 三、创建winform项目")]),t._v(" "),o("p",[t._v("3.1 环境")]),t._v(" "),o("p",[t._v("​\t1）DevExpress")]),t._v(" "),o("p",[t._v("​\t2）Arcgis10.1或arcengine10.1")]),t._v(" "),o("p",[t._v("​\t3）vs2017")]),t._v(" "),o("p",[t._v("3.2 新建项目")]),t._v(" "),o("p",[t._v("​\t1）新建空白解决方案")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/0077342f9cd42f66ce874b30f55bf76b/wps39.jpg",alt:"img"}}),t._v(" "),o("p",[t._v("​\t2）创建主窗体应用程序")]),t._v(" "),o("p",[t._v("​\t3）搭建搭建数据库实体层 Model（类库）")]),t._v(" "),o("p",[t._v("4）搭建数据访问层 DAL（类库）")]),t._v(" "),o("p",[t._v("5）搭建业务逻辑层 BLL（类库）")]),t._v(" "),o("p",[t._v("6）搭建表示层 UI（创建一个 Windows 应用程序）")]),t._v(" "),o("p",[t._v("7）搭建公共工具类库 Tool（类库）")]),t._v(" "),o("p",[t._v("8）添加各层之间的相互依赖")]),t._v(" "),o("p",[t._v("9）实现各层的功能")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/bc3a75e3abd3e3bbfcadfa565a973c00/wps40.jpg",alt:"img"}}),t._v(" "),o("h1",{attrs:{id:"四、dist-cs产品开发（基础版为例）"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#四、dist-cs产品开发（基础版为例）"}},[t._v("#")]),t._v(" 四、Dist CS产品开发（基础版为例）")]),t._v(" "),o("p",[t._v("4.1 项目结构")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/bd5586342aacdc6d482c947b84aa6241/wps41.jpg",alt:"img"}}),t._v(" "),o("p",[t._v("​\t1）Bussiness：产品初始化数据库访问类，现在的基础版几乎没用到。")]),t._v(" "),o("img",{staticStyle:{zoom:"80%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/eef9b6f1ca2f84c4dbc1c4564c8e4fda/wps42.jpg",alt:"img"}}),t._v(" "),o("p",[t._v("​\t2）Core：包括普通工具类、AE工具类、数据库访问、全局成员属性、自定义接口类等。")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/4d6cf10075ba68ea4c1e826d3be75359/wps43.jpg",alt:"img"}}),t._v(" "),o("p",[t._v("3）DataCheck：数据质检模块，基础版目前不包含数据质检模块，单独分出来了。")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/dfb8737425da56b1074f22c9b73bb7d7/wps44.jpg",alt:"img"}}),t._v(" "),o("p",[t._v("4）Lib：进程处理模块，基础版里面有些功能采用了单独开进程处理方式。")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/92a0cbfb8a344358259d72e23e251541/wps45.jpg",alt:"img"}}),t._v(" "),o("p",[t._v("5）MultiplePlanning：多规差异分析模块")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/2e2692893d2e335688c39b28e8781e40/wps46.jpg",alt:"img"}}),t._v(" "),o("p",[t._v("​\t6）Operator：功能操作模块，基础版中绝大部分功能按钮的实现。")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/2855af0a364e3c9395842f9e6e855215/wps47.jpg",alt:"img"}}),t._v(" "),o("p",[t._v("​\t7）Register：功能注册模块。")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/b3d96bb5f9e205897c9edb1beb4c4bd6/wps48.jpg",alt:"img"}}),t._v(" "),o("p",[t._v("​\t8）StartUp：产品入口模块，包括基础版、数据质检、质检构建端。")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/e58a07f33e33fe06a800ec76fe827710/wps49.jpg",alt:"img"}}),t._v(" "),o("p",[t._v("4.2 注册/注销功能")]),t._v(" "),o("p",[t._v("​\t通过注册端可以注册/注销功能，在版本目录下的MRN.DCP.RegisterUI.exe应用程序，实则修改的是版本目录下的Register.rfx文件配置。")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/e479136c64da6aedfecbf5f037ea011f/wps50.jpg",alt:"img"}}),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/f96a2bb1ba0f9f46539c10f892ba9704/wps51.jpg",alt:"img"}}),t._v(" "),o("p",[t._v("​\t1）注销某功能")]),t._v(" "),o("p",[t._v("​\t在如下界面中选中某条记录点击注销即可。")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/d8d2750a807db3bba0bd67cc8e59bab6/wps52.jpg",alt:"img"}}),t._v(" "),o("p",[t._v("​\t2）注册功能")]),t._v(" "),o("p",[t._v("​\t如下图所示，选择一个dll，然后选择要注册的功能注册，然后通过上移下移设置顺序。")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/74610775a85cbdca53a037348a6c24a5/wps53.jpg",alt:"img"}}),t._v(" "),o("p",[t._v("4.3 开发新功能")]),t._v(" "),o("p",[t._v("​\t1）在功能操作模块新建类库项目")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/7e8bba9f7ef6e84a2017f48770c27284/wps54.jpg",alt:"img"}}),t._v(" "),o("p",[t._v("​\t2）添加如下层级，Class下放置普通类；Command下放置功能按钮实现类；Frm下放置窗体类、UCControl放置控件类。")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/4ecb1365bf3e242e6cf734c074b73c02/wps55.jpg",alt:"img"}}),t._v(" "),o("p",[t._v("​\t3）在Class下添加XCmdEnumerator类，并继承XOperatorEnumerator类，添加构造函数和InitOperatorDesc方法。")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/c07cbedb9115dbfa138c81eca4474ef3/wps56.jpg",alt:"img"}}),t._v(" "),o("p",[t._v("​\t其中两个红框分别表示一张图功能模块下空间统计中的规划分区统计功能和用途分类统计功能；XOperatorDesc类构造函数参数分别为：guid唯一标识、图标索引号、名字、标题、分类、环境类型、操作类型、对象。")]),t._v(" "),o("p",[t._v("​\t4）在Command下添加与上面“对象”参数对应的类并继承BaseDgpCommand，重写父类方法，然后实现所需要的功能。")]),t._v(" "),o("p",[t._v("​\t5）最中编译后进行功能注册即完成了新功能的开发。")]),t._v(" "),o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/bb240445f53e405b595b8e3daa22105d/wps57.jpg",alt:"img"}})])}),[],!1,null,null,null);e.default=s.exports}}]);