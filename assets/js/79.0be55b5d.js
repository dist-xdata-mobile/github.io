(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{466:function(t,e,o){"use strict";o.r(e);var r=o(6),a=Object(r.a)({},(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("h1",{attrs:{id:"arcengine-释放锁文件彻底移除图层"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#arcengine-释放锁文件彻底移除图层"}},[t._v("#")]),t._v(" ArcEngine 释放锁文件彻底移除图层")]),t._v(" "),o("blockquote",[o("p",[t._v("作者:网络 时间： 2020-10-16")])]),t._v(" "),o("p",[t._v("ArcMap 在加载图层时会自动生成一个 lock 格式的加锁文件，右击移除图层后，加锁文件也会自动删除。但 AE 开发中却不能正常删除，移除图层后加锁文件依然存在，这就导致在其他地方无法对该图层进行操作，只有关闭程序才能删除加锁文件，彻底释放资源。")]),t._v(" "),o("p",[o("a",{attrs:{href:"https://images0.cnblogs.com/blog/388559/201501/161140496834811.png",target:"_blank",rel:"noopener noreferrer"}},[o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/148dae0f5ac1987719ed21d11dec1959/wps33.jpg",alt:"img"}}),o("OutboundLink")],1)]),t._v(" "),o("p",[t._v("如果不关闭程序，锁文件也删除不了。")]),t._v(" "),o("p",[o("a",{attrs:{href:"https://images0.cnblogs.com/blog/388559/201501/161215503234501.png",target:"_blank",rel:"noopener noreferrer"}},[o("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/7be56dfc81b08ed85581bc277853990b/wps34.jpg",alt:"img"}}),o("OutboundLink")],1)]),t._v(" "),o("p",[t._v("即使用使用方法将工作空间释放了，也不能删除锁文件。帮助文档中有这样的接口")]),t._v(" "),o("p",[o("a",{attrs:{href:"https://images0.cnblogs.com/blog/388559/201501/161216210112809.png",target:"_blank",rel:"noopener noreferrer"}},[t._v("![img](D:\\知识库_计算_MD - 图床\\2GIS\\2ArcGIS\\AE_UnLock\\images\\wps35.jpg)"),o("OutboundLink")],1)]),t._v(" "),o("p",[t._v("代码：")]),t._v(" "),o("table",[o("thead",[o("tr",[o("th",[t._v("1234567")]),t._v(" "),o("th",[t._v("IWorkspaceFactory pwf = new ShapefileWorkspaceFactory();//关闭资源锁定 IWorkspaceFactoryLockControl ipWsFactoryLock = IWorkspaceFactoryLockControl)pwf;if (ipWsFactoryLock.SchemaLockingEnabled){ ipWsFactoryLock.DisableSchemaLocking();}")])])]),t._v(" "),o("tbody",[o("tr",[o("td"),t._v(" "),o("td")])])])])}),[],!1,null,null,null);e.default=a.exports}}]);