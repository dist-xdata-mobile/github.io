(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{501:function(t,e,a){"use strict";a.r(e);var r=a(6),s=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"国土一张图-webapi-接口开发说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#国土一张图-webapi-接口开发说明"}},[t._v("#")]),t._v(" 国土一张图 WebApi 接口开发说明")]),t._v(" "),a("blockquote",[a("p",[t._v("作者:Dist 时间： 2020-10-16")])]),t._v(" "),a("h1",{attrs:{id:"合规审查"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#合规审查"}},[t._v("#")]),t._v(" "),a("strong",[a("em",[t._v("合规审查")])])]),t._v(" "),a("p",[t._v("前端调用页面")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/06979dc78fb04641b2675f4c16120ef9/wps150.jpg",alt:"img"}})]),t._v(" "),a("h2",{attrs:{id:"_1-1-上传项目数据文件-接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-上传项目数据文件-接口"}},[t._v("#")]),t._v(" ***1.1****"),a("strong",[t._v("上传项目数据文件")]),t._v("****接口***")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("接口名称")]),t._v(" "),a("th",[t._v("api/uploadItemData")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("接口描述")]),t._v(" "),a("td",[t._v("选择 SHP 或者 CAD 文件上传。")])]),t._v(" "),a("tr",[a("td",[t._v("业务流程图 （涉及前台功能） （前后台调用）")]),t._v(" "),a("td",[t._v("选择文件上传"),a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/005fe6279c3daff4e6158c7bd9b7dac5/wps151.jpg",alt:"img"}})])]),t._v(" "),a("tr",[a("td",[t._v("接口处理流程图")]),t._v(" "),a("td",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/15340146c001922c93bc94404ce858df/wps152.jpg",alt:"img"}})])]),t._v(" "),a("tr",[a("td",[t._v("详细说明")]),t._v(" "),a("td",[t._v("从本地中获取 shp 图形或 CAD 图形，并将其转化为 json 上传。")])]),t._v(" "),a("tr",[a("td",[t._v("涉及配置")]),t._v(" "),a("td",[t._v("1、 ftploadDir（ftp 文件上传目录）"),a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/c04bcf308e7bdac0efa947bacb00a8d7/wps153.jpg",alt:"img"}}),t._v(" 2、配置文件信息"),a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/4379bd69a24291b8a3e44d370592ad9e/wps154.jpg",alt:"img"}})])])])]),t._v(" "),a("h2",{attrs:{id:"_1-2-获取合规审查规则信息接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-获取合规审查规则信息接口"}},[t._v("#")]),t._v(" ***1.2******获取合规审查规则信息接口***")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("接口名称")]),t._v(" "),a("th",[t._v("getPlanCheckRuleInfo")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("接口描述")]),t._v(" "),a("td",[t._v("获取合规性审查的规则信息")])]),t._v(" "),a("tr",[a("td",[t._v("业务流程图 （涉及前台功能） （前后台调用）")]),t._v(" "),a("td",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/8bb15055b686e1024bcdba0bc9a03a58/wps155.jpg",alt:"img"}})])]),t._v(" "),a("tr",[a("td",[t._v("接口处理流程图")]),t._v(" "),a("td",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/8360b6df47f7e6db36f5764753aced86/wps156.jpg",alt:"img"}})])]),t._v(" "),a("tr",[a("td",[t._v("详细说明")]),t._v(" "),a("td",[t._v("根据参数项目类别（xmlb）匹配 PlanCheckRule.xml 文件里的“RuleGroup“的“name”属性获得下面的“Rule”节点的规则信息")])]),t._v(" "),a("tr",[a("td",[t._v("涉及配置")]),t._v(" "),a("td",[t._v("PlanCheckRule.xml（合规性审查规则配置文件）")])])])]),t._v(" "),a("h2",{attrs:{id:"_1-3-合规审查分析接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-合规审查分析接口"}},[t._v("#")]),t._v(" ***1.3******合规审查分析接口***")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("接口名称")]),t._v(" "),a("th",[t._v("getPlanCheckItemResult")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("接口描述")]),t._v(" "),a("td",[t._v("根据参数信息进行合规性审查")])]),t._v(" "),a("tr",[a("td",[t._v("业务流程图 （涉及前台功能） （前后台调用）")]),t._v(" "),a("td",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/d6fd5c5d62457d317f5ae7390a15d4ad/wps157.jpg",alt:"img"}})])]),t._v(" "),a("tr",[a("td",[t._v("接口处理流程图")]),t._v(" "),a("td",[t._v("首先调用项目列表获取接口，获取所有辅助选址项目信息。从中选中某一项目，进行查看编辑。若修改相关信息，则调用项目更新接口进行项目信息的更新保存。"),a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/6aeb9d270b1083d242e2284e2aedcbdb/wps158.jpg",alt:"img"}})])]),t._v(" "),a("tr",[a("td",[t._v("详细说明")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("涉及配置")]),t._v(" "),a("td",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/f8089eb9aa28841212aba9dc43fcd39d/wps159.jpg",alt:"img"}}),t._v(" 配置文件夹下的 config.properties 文件，配置了相关合规审查配置信息。PlanCheckRule.xml（合规性审查规则配置文件）；conf/合规性审查报告.html（模板）、gis-calculate-service\\DistWebApiService\\bin\\StaticFiles\\dgexport（报告导出目录）、")])])])]),t._v(" "),a("h2",{attrs:{id:"_1-4-保存或者更新合规性审查项目接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-保存或者更新合规性审查项目接口"}},[t._v("#")]),t._v(" ***1.4******保存或者更新合规性审查项目接口***")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("接口名称")]),t._v(" "),a("th",[t._v("saveOrUpdatePlanCheckItem")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("接口描述")]),t._v(" "),a("td",[t._v("保存或者更新合规性审查项目接口")])]),t._v(" "),a("tr",[a("td",[t._v("业务流程图 （涉及前台功能） （前后台调用）")]),t._v(" "),a("td",[a("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/7c04786f106bd781ad1b9b4b7489bc7b/wps160.jpg",alt:"img"}}),t._v(" 开始审查之后会自动保存或者更新项目")])]),t._v(" "),a("tr",[a("td",[t._v("接口处理流程图")]),t._v(" "),a("td",[a("img",{staticStyle:{zoom:"50%"},attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/1f3de0826334e8957a42fcb432d8a8e3/wps161.jpg",alt:"img"}})])]),t._v(" "),a("tr",[a("td",[t._v("详细说明")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("涉及配置")]),t._v(" "),a("td",[t._v("配置文件涉及 conf/config.properties、Conf/FieldInfo.xmlconf/config.properties 文件相关参数说明："),a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/6e04e5c086c5d7603a242cc70d212706/wps162.jpg",alt:"img"}}),t._v(" Conf/FieldInfo.xml 文件相关说明："),a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/c6a965bc35533929f596ea29062d49c4/wps163.jpg",alt:"img"}})])])])]),t._v(" "),a("h2",{attrs:{id:"_1-5-删除合规性审查项目接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-删除合规性审查项目接口"}},[t._v("#")]),t._v(" ***1.5******删除合规性审查项目接口***")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[a("em",[t._v("接口名称")])])]),t._v(" "),a("th",[t._v("deletePlanCheckItem")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[a("em",[t._v("接口描述")])])]),t._v(" "),a("td",[t._v("删除项目")])]),t._v(" "),a("tr",[a("td",[a("strong",[a("em",[t._v("业务流程图 （涉及前台功能） （前后台调用）")])])]),t._v(" "),a("td",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/67bc38f50d2bac91489bb940a5ee68e5/wps164.jpg",alt:"img"}})])]),t._v(" "),a("tr",[a("td",[a("strong",[a("em",[t._v("接口处理流程图")])])]),t._v(" "),a("td",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/451e9cdc362a90fea44ee4e13ae03ed5/wps165.jpg",alt:"img"}})])]),t._v(" "),a("tr",[a("td",[a("strong",[a("em",[t._v("详细说明")])])]),t._v(" "),a("td",[t._v("删除该项目对应的空间数据库中的空间要素")])]),t._v(" "),a("tr",[a("td",[a("strong",[a("em",[t._v("涉及配置")])])]),t._v(" "),a("td")])])]),t._v(" "),a("h2",{attrs:{id:"_1-6-查询接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-查询接口"}},[t._v("#")]),t._v(" ***1.6******查询接口***")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[a("em",[t._v("接口名称")])])]),t._v(" "),a("th",[t._v("GetProjectInfo")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[a("em",[t._v("接口描述")])])]),t._v(" "),a("td",[t._v("根据图层名称查询项目信息接口")])]),t._v(" "),a("tr",[a("td",[a("strong",[a("em",[t._v("业务流程图 （涉及前台功能） （前后台调用）")])])]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("strong",[a("em",[t._v("接口处理流程图")])])]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("strong",[a("em",[t._v("详细说明")])])]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("strong",[a("em",[t._v("涉及配置")])])]),t._v(" "),a("td")])])]),t._v(" "),a("h2",{attrs:{id:"_1-7-数据加载接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-数据加载接口"}},[t._v("#")]),t._v(" ***1.7******数据加载接口***")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[a("em",[t._v("接口名称")])])]),t._v(" "),a("th",[t._v("cadToPNG")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[a("em",[t._v("接口描述")])])]),t._v(" "),a("td",[t._v("Cad 转 png 图片接口")])]),t._v(" "),a("tr",[a("td",[a("strong",[a("em",[t._v("业务流程图 （涉及前台功能） （前后台调用）")])])]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("strong",[a("em",[t._v("接口处理流程图")])])]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("strong",[a("em",[t._v("详细说明")])])]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("strong",[a("em",[t._v("涉及配置")])])]),t._v(" "),a("td",[t._v("文件路径"),a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335//fellow-travellers/picgorepo/uploads/28fcfd230988c70aed1fee83211ff997/wps166.jpg",alt:"img"}})])])])])])}),[],!1,null,null,null);e.default=s.exports}}]);