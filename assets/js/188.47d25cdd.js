(window.webpackJsonp=window.webpackJsonp||[]).push([[188],{575:function(t,e,a){"use strict";a.r(e);var r=a(6),v=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"iserver-服务操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iserver-服务操作"}},[t._v("#")]),t._v(" iServer 服务操作")]),t._v(" "),a("blockquote",[a("p",[t._v("刘小标\n2020-10-15")])]),t._v(" "),a("h2",{attrs:{id:"_0-前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-前言"}},[t._v("#")]),t._v(" 0 前言")]),t._v(" "),a("p",[t._v("iServer 服务是什么？")]),t._v(" "),a("ul",[a("li",[t._v("将各种来源的 GIS 数据进行 GIS 功能处理")]),t._v(" "),a("li",[t._v("通过某种网络协议或者服务规范进行发布")]),t._v(" "),a("li",[t._v("通过网络发布的一种服务")])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/af5182f9aca29801d3bd1962c2a12335/image-20201014163439805.png",alt:"image-20201014163439805"}})]),t._v(" "),a("h2",{attrs:{id:"_1-iserver-服务功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-iserver-服务功能"}},[t._v("#")]),t._v(" 1 iServer 服务功能")]),t._v(" "),a("p",[t._v("iServer 内置服务功能，如下表所示：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("服务")]),t._v(" "),a("th",[t._v("功能描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[a("em",[t._v("地图服务")])])]),t._v(" "),a("td",[t._v("-地图浏览、缩放、平移；"),a("br"),t._v("-地图量算、查询；专题图")])]),t._v(" "),a("tr",[a("td",[a("strong",[a("em",[t._v("数据服务")])])]),t._v(" "),a("td",[t._v("-对数据源、数据集进行查询；"),a("br"),t._v("-对数据集进行在线编辑，增删改")])]),t._v(" "),a("tr",[a("td",[a("strong",[a("em",[t._v("空间分析服务")])])]),t._v(" "),a("td",[t._v("-对几何对象/数据集的裁剪、擦除、相交、合并、更新等操作；"),a("br"),t._v("-缓冲区分析、空间关系分析等；提取等值线")])]),t._v(" "),a("tr",[a("td",[a("strong",[a("em",[t._v("三维服务")])])]),t._v(" "),a("td",[t._v("-三维数据的发布；"),a("br"),t._v("-三维场景的发布，可以通过 Realspace 插件在线浏览、查询三维数据")])]),t._v(" "),a("tr",[a("td",[t._v("交通换乘分析服务")]),t._v(" "),a("td",[t._v("-交通换乘方案分析；"),a("br"),t._v("-公交站点查询")])]),t._v(" "),a("tr",[a("td",[t._v("交通网络分析服务")]),t._v(" "),a("td",[t._v("-最佳路径分析、多旅行商分析；"),a("br"),t._v("-服务区分析、选址分析；"),a("br"),t._v("-最近设施分析")])])])]),t._v(" "),a("p",[t._v("其中，"),a("strong",[t._v("地图服务、数据服务、三维服务")]),t._v("，以及"),a("strong",[t._v("空间分析服务")]),t._v("，是我们工作中最常使用的服务类型。")]),t._v(" "),a("h3",{attrs:{id:"_1-1-创建-iserver-服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-创建-iserver-服务"}},[t._v("#")]),t._v(" 1.1 创建 iServer 服务")]),t._v(" "),a("h4",{attrs:{id:"_1-1-1-快速创建服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-快速创建服务"}},[t._v("#")]),t._v(" 1.1.1 快速创建服务")]),t._v(" "),a("ul",[a("li",[t._v("SuperMap iServer Manager 提供创建服务的向导，轻松实现大部分 iServer 服务的创建（"),a("em",[t._v("此引导易操作，我们重点讲述第二种方式，也是快捷方式背后的原理")]),t._v("）")])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/e7d2cf09c97d50d0c6dcc1de33ad57c9/image-20201015103140832.png",alt:"image-20201015103140832"}})]),t._v(" "),a("h4",{attrs:{id:"_1-1-2-分别配置服务提供者、服务组件和服务接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-分别配置服务提供者、服务组件和服务接口"}},[t._v("#")]),t._v(" 1.1.2 分别配置服务提供者、服务组件和服务接口")]),t._v(" "),a("ul",[a("li",[t._v("根据 iServer 服务的架构特点，实现 iServer 服务的创建（深入理解 iServer 的架构）")])]),t._v(" "),a("p",[a("strong",[t._v("下面为大家详细描述 iServer 创建服务步骤")]),t._v("，以便深入理解 iServer 服务：")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/736b76d74b5e1167051bfafbd8488e3b/image-20201015101058126.png",alt:"image-20201015101058126"}})]),t._v(" "),a("h2",{attrs:{id:"_2-iserver-服务架构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-iserver-服务架构"}},[t._v("#")]),t._v(" 2 iServer 服务架构")]),t._v(" "),a("p",[t._v("一起看下超图 iServer 的服务架构，iServer 的每一种服务，如 REST、WMS 等都由三部分组成："),a("strong",[t._v("Provider")]),t._v("（提供者层）、"),a("strong",[t._v("Component")]),t._v("（组件层）、"),a("strong",[t._v("Interface")]),t._v("（接口层）。")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/b99b5a6145b1eb07f9d00a5cf334d184/iserver_%E6%9E%B6%E6%9E%84.png",alt:"iserver 架构"}})]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Provider")]),t._v(" 层的模块：利用 GIS 计算内核或者第三方 GIS 服务实现 GIS 功能的处理，如 UGCMapProvider 利用 UGO 内核实现关于地图操作的 GIS 功能。")]),t._v(" "),a("li",[a("strong",[t._v("Component")]),t._v(" 层的模块：根据 GIS 功能的划分，将各种 Provider 模块进行封装处理。如 Map Component 调用 Provider 层的 Map Provider 类型的模块提供关于地图操作的一系列 GIS 功能。")]),t._v(" "),a("li",[a("strong",[t._v("Interface")]),t._v(" 层的 Servlet 或者 Interface：按照不同服务形式的规则构建 Servlet 或者 Interface，将 Component 模块以各种服务形式对外发布，如将 Map Component 发布为 REST 风格的地图服务，将 Data Component 发布为 WFS 服务等。")])]),t._v(" "),a("p",[t._v("SuperMap iServer 提供的各种 GIS 服务就是由这三层中的各种模块相互组合、相互作用构建出来的。")]),t._v(" "),a("h3",{attrs:{id:"_2-1-第一步：创建服务提供者（provider）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-第一步：创建服务提供者（provider）"}},[t._v("#")]),t._v(" 2.1 "),a("strong",[t._v("第一步：创建服务提供者（Provider）")])]),t._v(" "),a("blockquote",[a("p",[t._v("1、选择服务类型\n2、指定数据来源\n3、设置其他参数")])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/772cc392952cac170000036cde64ace6/image-20201015102018857.png",alt:"image-20201015102018857"}})]),t._v(" "),a("p",[a("strong",[t._v("服务提供者")]),t._v("（Provider）针对某一类型数据进行 GIS 功能的处理，实现 GIS 功能封装与接口的统一。")]),t._v(" "),a("p",[t._v("iServer 默认类型：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("地图服务提供者")]),t._v(" "),a("li",[t._v("数据服务提供者")]),t._v(" "),a("li",[t._v("三维服务提供者")]),t._v(" "),a("li",[t._v("空间分析服务提供者")]),t._v(" "),a("li",[t._v("交通网络分析服务提供者")]),t._v(" "),a("li",[t._v("交通换乘分析服务提供者")])])]),t._v(" "),a("p",[a("em",[t._v("注：用户可自定义服务提供者")])]),t._v(" "),a("p",[t._v("下面以三张表格阐明"),a("strong",[t._v("地图、数据、三维以及分析服务提供者及其使用")]),t._v("说明：")]),t._v(" "),a("p",[a("strong",[t._v("地图服务提供者及其使用说明")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("地图服务提供者")]),t._v(" "),a("th",[t._v("使用说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("本地地图服务提供者"),a("br"),t._v("UGCMapProvider")]),t._v(" "),a("td",[t._v("获取 SuperMap 数据，处理地图功能")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("REST 地图服务提供者"),a("br"),t._v("RESTMapProvider")]),t._v(" "),a("td",[t._v("对 REST 地图服务来源的 GIS 数据进行地图功能的处理")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("WMTS 地图服务提供者"),a("br"),t._v("WMTSMapProvider")]),t._v(" "),a("td",[t._v("对 WMTS 来源的数据进行地图功能的处理")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("WMS 地图服务提供者"),a("br"),t._v("WMSMapProvider")]),t._v(" "),a("td",[t._v("对 WMS 来源的数据进行地图功能的处理")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("BingMaps 地图服务提供者"),a("br"),t._v("BingMapsMapProvider")]),t._v(" "),a("td",[t._v("对 BingMaps 服务的 GIS 数据进行地图功能的处理")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("超图云服务地图服务提供者"),a("br"),t._v("CloudMapProvider")]),t._v(" "),a("td",[t._v("实现对超图云服务的 GIS 数据进行地图功能的处理")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("天地图地图服务提供者"),a("br"),t._v("TiandituMapProvider")]),t._v(" "),a("td",[t._v("实现对天地图服务的 GIS 数据进行地图功能的处理")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("聚合地图服务提供者"),a("br"),t._v("AggregationMapProvider")]),t._v(" "),a("td",[t._v("实现对多源的 GIS 数据进行地图功能的聚合处理")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v(".....")]),t._v(" "),a("td",[t._v("使用其他数据来源进行服务的发布")])])])]),t._v(" "),a("p",[a("strong",[t._v("数据服务提供者及其使用说明")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("数据服务提供者")]),t._v(" "),a("th",[t._v("使用说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("本地数据服务提供者"),a("br"),t._v("UGCDataProvider")]),t._v(" "),a("td",[t._v("获取 SuperMap 数据，处理数据相关功能")])]),t._v(" "),a("tr",[a("td",[t._v("WFS 数据服务提供者"),a("br"),t._v("WFSDataProvider")]),t._v(" "),a("td",[t._v("对 WFS 来源的数据进行数据功能的处理")])]),t._v(" "),a("tr",[a("td",[t._v("REST 数据服务提供者"),a("br"),t._v("RESTDataProvider")]),t._v(" "),a("td",[t._v("对远程 REST 数据服务来源的数据进行数据功能的处理")])]),t._v(" "),a("tr",[a("td",[t._v("聚合数据服务提供者"),a("br"),t._v("AggregationDataProvider")]),t._v(" "),a("td",[t._v("实现对多来源的 GIS 数据进行数据功能的聚合处理")])])])]),t._v(" "),a("p",[a("strong",[t._v("三维、分析服务提供者及其使用说明")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("三维/分析服务提供者")]),t._v(" "),a("th",[t._v("使用说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("本地真三维服务提供者")]),t._v(" "),a("td",[t._v("获取 SuperMap 数据，处理三维相关功能")])]),t._v(" "),a("tr",[a("td",[t._v("交通网络分析服务提供者")]),t._v(" "),a("td",[t._v("获取 SuperMap 数据，处理网络分析功能")])]),t._v(" "),a("tr",[a("td",[t._v("空间分析服务提供者")]),t._v(" "),a("td",[t._v("获取 SuperMap 数据，处理空间分析功能")])]),t._v(" "),a("tr",[a("td",[t._v("交通换乘分析服务提供者")]),t._v(" "),a("td",[t._v("获取 SuperMap 数据，处理交通换乘分析功能")])])])]),t._v(" "),a("h3",{attrs:{id:"_2-2-第二步：设置服务接口（interface）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-第二步：设置服务接口（interface）"}},[t._v("#")]),t._v(" 2.2 "),a("strong",[t._v("第二步：设置服务接口（Interface）")])]),t._v(" "),a("p",[t._v("根据发布的协议或者规范在服务接口列表中查找是否有合适的服务接口：")]),t._v(" "),a("blockquote",[a("p",[t._v("1、已经有对应的服务接口，该步骤结束\n2、没有对应的服务接口，创建一个服务接口")])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/97b470ab35400d45659c282807596422/image-20201015104310576.png",alt:"image-20201015104310576"}})]),t._v(" "),a("p",[a("strong",[t._v("服务接口")]),t._v("（Interface）将服务组件按照不同服务规范发布成不同类型的网络服务，该层决定了所支持发布的服务类型。")]),t._v(" "),a("p",[t._v("默认服务接口类型：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("REST")]),t._v(" "),a("li",[t._v("REST/JSR（空间分析服务、交通换乘分析服务）")]),t._v(" "),a("li",[t._v("WMS")]),t._v(" "),a("li",[t._v("WFS")]),t._v(" "),a("li",[t._v("WPS")]),t._v(" "),a("li",[t._v("WCS")]),t._v(" "),a("li",[t._v("WMTS")]),t._v(" "),a("li",[t._v("Handler（对接使用 iServer Java 2008 开发的应用程\n序）")])])]),t._v(" "),a("p",[a("em",[t._v("注：用户可自定义服务接口")])]),t._v(" "),a("h3",{attrs:{id:"_2-3-第三步：创建服务组件（component）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-第三步：创建服务组件（component）"}},[t._v("#")]),t._v(" 2.3 "),a("strong",[t._v("第三步：创建服务组件（Component）")])]),t._v(" "),a("blockquote",[a("p",[t._v("1、选择服务类型\n2、设置使用的服务提供者\n3、设置绑定的服务接口")])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/d5df09ded2a97ca49cb966fb7bd4a1c7/image-20201015113025128.png",alt:"image-20201015113025128"}})]),t._v(" "),a("p",[a("strong",[t._v("服务组件")]),t._v("（Component）对不同服务提供者的功能进行组合并封装成易于客户端应用的模块。\n默认组件类型：")]),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("地图服务组件（Map）")]),t._v(" "),a("li",[t._v("数据服务组件（Data）")]),t._v(" "),a("li",[t._v("交通网络分析组件（TransportationAnalyst）")]),t._v(" "),a("li",[t._v("三维服务组件（ Realspace）")]),t._v(" "),a("li",[t._v("空间分析组件（SpatialAnalyst）")]),t._v(" "),a("li",[t._v("交通换乘分析组件（TrafficTransferAnalyst）")])])]),t._v(" "),a("p",[a("em",[t._v("注：用户可自定义服务组件。")])]),t._v(" "),a("p",[a("strong",[t._v("服务组件")]),t._v("（Component）与"),a("strong",[t._v("服务提供者")]),t._v("（Provider）对应关系：")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/135319abd79b3879447c83cfb80229ca/image-20201015131336597.png",alt:"image-20201015131336597"}})]),t._v(" "),a("p",[a("strong",[t._v("服务组件")]),t._v("（Component）与"),a("strong",[t._v("接口")]),t._v("（Interface）对应关系：")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/50759f63acc3009a227d34839c0ebdaa/image-20201014164644761.png",alt:"image-20201014164644761"}})]),t._v(" "),a("h3",{attrs:{id:"_2-4-第四步：服务实例浏览"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-第四步：服务实例浏览"}},[t._v("#")]),t._v(" 2.4 "),a("strong",[t._v("第四步：服务实例浏览")])]),t._v(" "),a("ul",[a("li",[t._v("iServer 服务实例命名规则")])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/6151ebfa0ee8c3984763550e975b0542/image-20201016093026812.png",alt:"image-20201016093026812"}})]),t._v(" "),a("ul",[a("li",[t._v("在 SuperMap iServer Manager 中服务管理中查看详细配置信息")])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/f9fd87e8e4feee51ca6963fe5c2d49af/image-20201015132410634.png",alt:"image-20201015132410634"}})]),t._v(" "),a("h2",{attrs:{id:"_3-实践练习"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-实践练习"}},[t._v("#")]),t._v(" 3 实践练习")]),t._v(" "),a("p",[t._v("创建 SuperMap 数据来源的地图 REST 服务(动态出图)。\n准备数据：China.smwu")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/1eb8f7998eadce581fd92800421654ed/image-20201015134341701.png",alt:"image-20201015134341701"}})]),t._v(" "),a("h3",{attrs:{id:"_3-1-创建地图服务提供者"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-创建地图服务提供者"}},[t._v("#")]),t._v(" 3.1 创建地图服务提供者")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/6d9efca9a3b2454401c3f5276444cc8a/image-20201015135552011.png",alt:"image-20201015135552011"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/231a7059085139ae0d97b308914ca1e9/image-20201015140011768.png",alt:"image-20201015140011768"}})]),t._v(" "),a("h3",{attrs:{id:"_3-2-创建地图服务接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-创建地图服务接口"}},[t._v("#")]),t._v(" 3.2 创建地图服务接口")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/15df3f694fc7f34773eea5babee4f800/image-20201015140149771.png",alt:"image-20201015140149771"}})]),t._v(" "),a("h3",{attrs:{id:"_3-3-创建地图服务组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-创建地图服务组件"}},[t._v("#")]),t._v(" 3.3 创建地图服务组件")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/437a96b4620e5336f6f6ee1b030a4c67/image-20201015140613046.png",alt:"image-20201015140613046"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/e72bb0e253e877c69a1a7d19395a703c/image-20201015140729086.png",alt:"image-20201015140729086"}})]),t._v(" "),a("h3",{attrs:{id:"_3-4-预览服务实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-预览服务实例"}},[t._v("#")]),t._v(" 3.4 预览服务实例")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/1fa0ce425991eb993dda914aa55f73f1/image-20201015140954738.png",alt:"image-20201015140954738"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/0bac01b853f02764c937f80fe5781a65/image-20201015141221883.png",alt:"image-20201015141221883"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/26f86d2e122aab2951d77dc29e3292f6/GIF_2020-10-15_17-19-49.gif",alt:"GIF 2020-10-15 17-19-49"}})]),t._v(" "),a("h2",{attrs:{id:"_4-瓦片格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-瓦片格式"}},[t._v("#")]),t._v(" 4 瓦片格式")]),t._v(" "),a("p",[t._v("支持对地图服务生成和使用"),a("strong",[t._v("地图瓦片")]),t._v("、"),a("strong",[t._v("矢量瓦片")]),t._v("、"),a("strong",[t._v("属性瓦片")]),t._v("，且生成的瓦片包支持分享传播与离线使用。")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("地图瓦片")])]),t._v(" "),a("p",[t._v("将地图中所有图层切分并存储为"),a("strong",[t._v("栅格图片")]),t._v("的地图瓦片，支持 FastDFS 和 MongoDB 分布式存储、SMTiles 、 SuperMap UGC 格式和 GeoPackage 格式。其中，SuperMap UGC 格式是 SuperMap 各个产品间通用的传统地图瓦片格式，相同版本的地图瓦片可以通用。分布式切图服务支持的“UGCV5”切片类型，就是指 5.0 版本原始缓存。")]),t._v(" "),a("p",[t._v("此外，地图瓦片的图片格式支持 PNG、JPG、GIF。如果选择 PNG，且当前地图颜色值数小于等于 256，SuperMap iServer 会自动将图片存为 PNG8 格式，以节约存储空间。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("矢量瓦片")])]),t._v(" "),a("p",[t._v("地图中的指定矢量图层以矢量瓦片的形式进行切分和存储，支持 SVTiles 、MVT 格式。")]),t._v(" "),a("blockquote",[a("p",[t._v("注：SVTiles 和 MVT 区别，SVTiles 是由 SuperMap 制定的一种利用 SQLite 数据库存储矢量瓦片数据的存储格式，是一种私有格式，而 MVT 则是目前流行的一种通用格式")])]),t._v(" "),a("p",[t._v("在地图服务的应用中，除了供用户访问浏览地图外，还有为用户提供查询、选择、高亮等操作的实际需求，这时就需要通过要素服务为用户提供上述功能。与地图服务需要通过缓存技术提升访问速度一样，要素服务也需要通过将矢量数据预先生成瓦片来提升客户端的渲染速度，因此矢量瓦片（Vector Tile）就诞生了。矢量数据在存储的时候，其体积比地图瓦片更小，更适合于地图中对时效性要求较高的地物要素的表达，如 POI 信息、路线信息等。常见的在线地图服务，如 Google Maps、百度地图等，都是采用了栅格瓦片做底图，叠加矢量瓦片的做法。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("属性瓦片")])]),t._v(" "),a("p",[t._v("将地图中矢量图层的属性数据以属性瓦片的形式进行存储，支持 UTFGrid 格式。")]),t._v(" "),a("p",[t._v("在地图服务的应用中，如果包含较多的鼠标交互操作，传统做法是在地图上叠加要素图层，每个要素具有自己的热点和事件，用于完成鼠标交互。但在大数据量、高并发请求的环境中，客户端尤其是移动终端上，就不能很好地渲染大数据量的地理要素，因此就面临严重的性能问题。这种情况下，出现了一张"),a("strong",[t._v("地图瓦片结合要素属性信息的缓存方式")]),t._v("，也就是在传统的地图瓦片的基础上，额外存储了按照格网划分的要素属性信息，这种预先划分的要素属性信息，就成为属性瓦片（也称互动格网瓦片）。地图瓦片结合属性瓦片的这种用法也已经有很多实践应用，最具代表性的是 MBTiles 规范及其附属的 UTFGrid 规范。")])])]),t._v(" "),a("p",[t._v("附上：栅格与矢量瓦片 PK 图\n"),a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/fddd4367f7f47b65fecf4b23c2adcd76/image-20201015155525367.png",alt:"image-20201015155525367"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/901fe7c42c94d20da3602a66d8c52dbd/image-20201015155555013.png",alt:"image-20201015155555013"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/ab70c0ed7053e2fd4490308b0f31b03b/image-20201015161934530.png",alt:"image-20201015161934530"}})]),t._v(" "),a("h3",{attrs:{id:"_4-1-矢量瓦片发布流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-矢量瓦片发布流程"}},[t._v("#")]),t._v(" 4.1 矢量瓦片发布流程")]),t._v(" "),a("h4",{attrs:{id:"_4-1-1-生成矢量瓦片"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-1-生成矢量瓦片"}},[t._v("#")]),t._v(" 4.1.1 生成矢量瓦片")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/eb130657a12a175261a47189f0a8fcc1/image-20201015143718510.png",alt:"image-20201015143718510"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/7aa2cd017f11c2ad828e53846d729d27/image-20201015163402268.png",alt:"image-20201015163402268"}})]),t._v(" "),a("h4",{attrs:{id:"_4-1-2-通过创建服务提供者、组件、接口发布服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-2-通过创建服务提供者、组件、接口发布服务"}},[t._v("#")]),t._v(" 4.1.2 通过创建服务提供者、组件、接口发布服务")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/bd5feb79eb675ba4adcaf51d62c3da6f/image-20201015163636128.png",alt:"image-20201015163636128"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/ea7a6e4aca5f84799b7f6ce568f0ac50/image-20201015164736822.png",alt:"image-20201015164736822"}})]),t._v(" "),a("h4",{attrs:{id:"_4-1-3-预览服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-3-预览服务"}},[t._v("#")]),t._v(" 4.1.3 预览服务")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/c21ba53ca570a132666a2bf120b6be10/image-20201015165005405.png",alt:"image-20201015165005405"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/3c6dc52179f0c9312ed12f312bcd2b4a/image-20201015165144577.png",alt:"image-20201015165144577"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"http://elb-791125809.cn-northwest-1.elb.amazonaws.com.cn:5335/fellow-travellers/picgorepo/uploads/8f41c1eefad2164dfa454846cf1baf28/GIF_2020-10-15_17-10-57.gif",alt:"GIF 2020-10-15 17-10-57"}})])])}),[],!1,null,null,null);e.default=v.exports}}]);